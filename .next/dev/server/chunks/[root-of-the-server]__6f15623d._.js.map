{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///D:/6th%20Semester/Code/Next/personal-finance-system/lib/mongodb.ts"],"sourcesContent":["import { MongoClient, type Db } from \"mongodb\"\n\nif (!process.env.MONGODB_URI) {\n  throw new Error(\"Please add your MongoDB URI to .env.local\")\n}\n\nconst uri = process.env.MONGODB_URI\nconst options = {}\n\nlet client: MongoClient\nlet clientPromise: Promise<MongoClient>\n\nif (process.env.NODE_ENV === \"development\") {\n  // In development mode, use a global variable to preserve the MongoClient across hot reloads\n  const globalWithMongo = global as typeof globalThis & {\n    _mongoClientPromise?: Promise<MongoClient>\n  }\n\n  if (!globalWithMongo._mongoClientPromise) {\n    client = new MongoClient(uri, options)\n    globalWithMongo._mongoClientPromise = client.connect()\n  }\n  clientPromise = globalWithMongo._mongoClientPromise\n} else {\n  // In production mode, create a new MongoClient\n  client = new MongoClient(uri, options)\n  clientPromise = client.connect()\n}\n\nexport default clientPromise\n\nexport async function getDatabase(): Promise<Db> {\n  const client = await clientPromise\n  return client.db(\"personal_finance\")\n}\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,IAAI,CAAC,QAAQ,GAAG,CAAC,WAAW,EAAE;IAC5B,MAAM,IAAI,MAAM;AAClB;AAEA,MAAM,MAAM,QAAQ,GAAG,CAAC,WAAW;AACnC,MAAM,UAAU,CAAC;AAEjB,IAAI;AACJ,IAAI;AAEJ,wCAA4C;IAC1C,4FAA4F;IAC5F,MAAM;IAIN,IAAI,CAAC,gBAAgB,mBAAmB,EAAE;QACxC,SAAS,IAAI,sHAAW,CAAC,KAAK;QAC9B,gBAAgB,mBAAmB,GAAG,OAAO,OAAO;IACtD;IACA,gBAAgB,gBAAgB,mBAAmB;AACrD;;uCAMe;AAER,eAAe;IACpB,MAAM,SAAS,MAAM;IACrB,OAAO,OAAO,EAAE,CAAC;AACnB"}},
    {"offset": {"line": 86, "column": 0}, "map": {"version":3,"sources":["file:///D:/6th%20Semester/Code/Next/personal-finance-system/lib/db/collections.ts"],"sourcesContent":["import { getDatabase } from \"@/lib/mongodb\"\nimport type {\n  UserModel,\n  RoleModel,\n  MenuModel,\n  RoleMenuAccessModel,\n  CategoryModel,\n  AccountModel,\n  TransactionModel,\n  BudgetModel,\n  SessionModel,\n} from \"./models\"\n\nexport async function getUsersCollection() {\n  const db = await getDatabase()\n  return db.collection<UserModel>(\"users\")\n}\n\nexport async function getRolesCollection() {\n  const db = await getDatabase()\n  return db.collection<RoleModel>(\"roles\")\n}\n\nexport async function getMenusCollection() {\n  const db = await getDatabase()\n  return db.collection<MenuModel>(\"menus\")\n}\n\nexport async function getRoleMenuAccessCollection() {\n  const db = await getDatabase()\n  return db.collection<RoleMenuAccessModel>(\"role_menu_access\")\n}\n\nexport async function getCategoriesCollection() {\n  const db = await getDatabase()\n  return db.collection<CategoryModel>(\"categories\")\n}\n\nexport async function getAccountsCollection() {\n  const db = await getDatabase()\n  return db.collection<AccountModel>(\"accounts\")\n}\n\nexport async function getTransactionsCollection() {\n  const db = await getDatabase()\n  return db.collection<TransactionModel>(\"transactions\")\n}\n\nexport async function getBudgetsCollection() {\n  const db = await getDatabase()\n  return db.collection<BudgetModel>(\"budgets\")\n}\n\nexport async function getSessionsCollection() {\n  const db = await getDatabase()\n  return db.collection<SessionModel>(\"sessions\")\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;;AAaO,eAAe;IACpB,MAAM,KAAK,MAAM,IAAA,gKAAW;IAC5B,OAAO,GAAG,UAAU,CAAY;AAClC;AAEO,eAAe;IACpB,MAAM,KAAK,MAAM,IAAA,gKAAW;IAC5B,OAAO,GAAG,UAAU,CAAY;AAClC;AAEO,eAAe;IACpB,MAAM,KAAK,MAAM,IAAA,gKAAW;IAC5B,OAAO,GAAG,UAAU,CAAY;AAClC;AAEO,eAAe;IACpB,MAAM,KAAK,MAAM,IAAA,gKAAW;IAC5B,OAAO,GAAG,UAAU,CAAsB;AAC5C;AAEO,eAAe;IACpB,MAAM,KAAK,MAAM,IAAA,gKAAW;IAC5B,OAAO,GAAG,UAAU,CAAgB;AACtC;AAEO,eAAe;IACpB,MAAM,KAAK,MAAM,IAAA,gKAAW;IAC5B,OAAO,GAAG,UAAU,CAAe;AACrC;AAEO,eAAe;IACpB,MAAM,KAAK,MAAM,IAAA,gKAAW;IAC5B,OAAO,GAAG,UAAU,CAAmB;AACzC;AAEO,eAAe;IACpB,MAAM,KAAK,MAAM,IAAA,gKAAW;IAC5B,OAAO,GAAG,UAAU,CAAc;AACpC;AAEO,eAAe;IACpB,MAAM,KAAK,MAAM,IAAA,gKAAW;IAC5B,OAAO,GAAG,UAAU,CAAe;AACrC"}},
    {"offset": {"line": 148, "column": 0}, "map": {"version":3,"sources":["file:///D:/6th%20Semester/Code/Next/personal-finance-system/app/api/test-db/route.ts"],"sourcesContent":["import { type NextRequest, NextResponse } from \"next/server\"\r\nimport { getUsersCollection, getRolesCollection } from \"@/lib/db/collections\"\r\n\r\nexport async function GET(request: NextRequest) {\r\n  try {\r\n    const usersCollection = await getUsersCollection()\r\n    const users = await usersCollection.find({}).toArray()\r\n\r\n    const rolesCollection = await getRolesCollection()\r\n    const roles = await rolesCollection.find({}).toArray()\r\n\r\n    return NextResponse.json({\r\n      success: true,\r\n      userCount: users.length,\r\n      roleCount: roles.length,\r\n      users: users.map((u) => ({\r\n        email: u.email,\r\n        username: u.username,\r\n        hasPassword: !!u.password,\r\n        passwordLength: u.password?.length || 0,\r\n      })),\r\n      roles: roles.map((r) => ({ name: r.name })),\r\n    })\r\n  } catch (error) {\r\n    console.error(\"[v0] Test DB error:\", error)\r\n    return NextResponse.json({ error: \"Database connection failed\", details: String(error) }, { status: 500 })\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,IAAI,OAAoB;IAC5C,IAAI;QACF,MAAM,kBAAkB,MAAM,IAAA,iLAAkB;QAChD,MAAM,QAAQ,MAAM,gBAAgB,IAAI,CAAC,CAAC,GAAG,OAAO;QAEpD,MAAM,kBAAkB,MAAM,IAAA,iLAAkB;QAChD,MAAM,QAAQ,MAAM,gBAAgB,IAAI,CAAC,CAAC,GAAG,OAAO;QAEpD,OAAO,iLAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT,WAAW,MAAM,MAAM;YACvB,WAAW,MAAM,MAAM;YACvB,OAAO,MAAM,GAAG,CAAC,CAAC,IAAM,CAAC;oBACvB,OAAO,EAAE,KAAK;oBACd,UAAU,EAAE,QAAQ;oBACpB,aAAa,CAAC,CAAC,EAAE,QAAQ;oBACzB,gBAAgB,EAAE,QAAQ,EAAE,UAAU;gBACxC,CAAC;YACD,OAAO,MAAM,GAAG,CAAC,CAAC,IAAM,CAAC;oBAAE,MAAM,EAAE,IAAI;gBAAC,CAAC;QAC3C;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,uBAAuB;QACrC,OAAO,iLAAY,CAAC,IAAI,CAAC;YAAE,OAAO;YAA8B,SAAS,OAAO;QAAO,GAAG;YAAE,QAAQ;QAAI;IAC1G;AACF"}}]
}